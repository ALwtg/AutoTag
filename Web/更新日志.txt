2026-01-10 更新日志 (V1.2.1)

[新增功能]
1. 全新 UI 布局重构
   - 采用“顶部导航 + 左侧文件列表 + 中间工作区”的三栏式布局，操作更符合专业工具习惯。
   - 将“导出数据”整合为顶部下拉菜单，提供透明图、截取图、YOLO 标注、视频帧等多种导出选项。
   - 新增视频模式专属控制条：包含播放/暂停、进度拖拽及时间显示，替代原生控件，提供更统一的交互体验。

2. 画布渲染引擎升级
   - **统一渲染管线**：视频模式现在通过 Canvas 实时绘制视频帧，实现了与图片模式一致的渲染逻辑。
   - **自适应全貌显示**：无论图片或视频的分辨率如何，均强制在固定画布区域内等比缩放（Contain 模式），彻底解决大图溢出或视频只显示局部的问题。

[优化与修复]
- **修复文件上传报错**：解决了 DOM 初始化时机导致的 `Uncaught TypeError`，增强了上传组件的稳定性。
- **修复图层遮挡问题**：重构了图片/视频模式的切换逻辑与 CSS 层级，解决了切换模式时视频控件遮挡画布或无法隐藏的问题。
- **优化标注对齐**：配合新的缩放渲染逻辑，更新了坐标映射算法，确保在有黑边的情况下标注框依然精准贴合目标物体。

2026-01-10 更新日志 (V1.2.2)

[新增功能]
1. 任务全生命周期管理系统
   - **任务控制**：新增“暂停”、“继续”和“结束任务”功能，支持中途打断并安全保存进度。
   - **任务包导入/导出**：支持将当前任务（含源文件、配置、已分析结果）打包导出为 .zip 文件，并可从任意设备导入恢复，实现无缝迁移。
   - **自动备份**：内置定时自动备份机制（默认30分钟），防止意外丢失数据。
   - **智能断点续传**：
     - 图片模式：自动跳过已处理的文件。
     - 视频模式：支持**帧级续传**，精确识别已处理到的帧数，导入后自动从下一帧继续分析，不再丢失已有进度。

2. 个性化体验升级
   - **暗黑模式 (Dark Mode)**：全站适配深色主题，支持一键切换并自动记忆用户偏好，优化了夜间工作的视觉体验。
   - **智能层级管理**：实现了浮动面板（任务菜单、裁剪预览、时间轴）的动态层级控制，点击即置顶，解决了多窗口重叠时的遮挡操作问题。

[优化与修复]
- **视频批量处理重构**：重写了视频分析核心逻辑，修复了批量上传多个视频时可能导致的卡死或资源泄露问题，大幅提升了并发处理的稳定性。
- **资源管理优化**：增加了对 Video 对象和 Blob URL 的自动垃圾回收机制，防止长时间运行后的内存溢出。
- **自动备份修复**：修复了自动备份定时器因变量作用域问题未能正确触发的 Bug。
